server:
  host: 0.0.0.0
  port: 8000
  debug: false
  allowed_hosts:
    - localhost
    - 127.0.0.1

oanda:
  practice_api: https://api-fxpractice.oanda.com
  live_api: https://api-fxtrade.oanda.com
  stream_timeout: 30
  max_reconnect_attempts: 5
  reconnect_intervals:
    - 1
    - 2
    - 4
    - 8
    - 16

security:
  jwt_expiration: 86400 # 24 hours in seconds
  max_login_attempts: 5
  lockout_duration: 900 # 15 minutes in seconds
  account_lock_threshold: 10
  rate_limit_requests: 100
  rate_limit_window: 60 # 1 minute in seconds
  ip_block_duration: 3600 # 1 hour in seconds

logging:
  level: INFO
  format: json
  retention_days: 90
  log_file: logs/django.log
  max_file_size: 10485760 # 10 MB in bytes
  backup_count: 5

celery:
  broker_url: redis://redis:6379/0
  result_backend: redis://redis:6379/0
  task_serializer: json
  result_serializer: json
  accept_content:
    - json
  timezone: UTC
  enable_utc: true

database:
  engine: django.db.backends.postgresql
  conn_max_age: 600
  conn_health_checks: true

redis:
  host: redis
  port: 6379
  db: 0
  socket_timeout: 5
  socket_connect_timeout: 5

risk_management:
  atr_period: 14
  volatility_lock_multiplier: 5.0
  margin_liquidation_threshold: 1.0 # 100%
  max_layers: 3

strategy:
  default_base_lot_size: 1.0
  default_scaling_mode: additive
  default_retracement_pips: 30
  default_take_profit_pips: 25
  max_concurrent_strategies: 10

backtesting:
  default_slippage_pips: 0.5
  default_commission: 0.0
  max_concurrent_backtests: 5
  data_source: s3
  s3_bucket: forex-historical-data
  athena_database: forex_data

tick_storage:
  enabled: true
  batch_size: 100
  batch_timeout: 1.0 # seconds
